<div class="content-heading"> Add Labs
    <div class="pull-right">
        
      <button class="btn btn-warning" (click)="addService()"><em class="fa fa-plus"></em>&nbsp;&nbsp; Add New Service</button>&nbsp;
      <button class="btn btn-warning"(click)="addLocation()"><em class="fa fa-plus"></em>&nbsp;&nbsp; Add New Locations</button>
    </div>
  <small><a [routerLink]=" ['/home'] ">Dashboard</a> -> Lab Master
  </small>
</div>
<div class="panel panel-default">
    <form [formGroup]="labsignup" (ngSubmit)="onSubmit()">
    <mat-accordion>
      <mat-expansion-panel class="textAlign" [expanded]="true">
        <mat-expansion-panel-header class="expansionPanel">
          <mat-panel-title>
            <span class="panelHeader">Lab Details</span>
          </mat-panel-title>

        </mat-expansion-panel-header>
        <mat-form-field class="matFieldWidth" appearance="outline">
          <mat-label>Lab Name</mat-label>
          <input matInput formControlName='labname' placeholder="Placeholder">
        </mat-form-field><br>
        <mat-form-field class="matFieldWidth" appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName='email' placeholder="Placeholder">
        </mat-form-field><br>
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>Contact Person Name</mat-label>
          <input matInput formControlName='personname' placeholder="Placeholder">
        </mat-form-field>&nbsp;
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>Mobile Number</mat-label>
          <input matInput type='tel' pattern="^[0-9]{10,10}$" maxlength="10" formControlName='mobilenumber'
            placeholder="Placeholder">
        </mat-form-field>
      </mat-expansion-panel>
      <mat-expansion-panel class="textAlign">
        <mat-expansion-panel-header class="expansionPanel">
          <mat-panel-title>
            <span class="panelHeader">Lab Address</span>
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field class="matFieldWidth" appearance="outline">
          <mat-label>Address</mat-label>
          <textarea matInput formControlName='address'></textarea>
        </mat-form-field><br>
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>City</mat-label>
          <input matInput formControlName='city' placeholder="Placeholder">
        </mat-form-field>&nbsp;
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>State</mat-label>
          <input matInput formControlName='state' placeholder="Placeholder">
        </mat-form-field><br>
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>Area</mat-label>
          <mat-select formControlName="area">
            <mat-option *ngFor="let data of locationList" value="{{data.name}}">
              {{data.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>&nbsp;
        <mat-form-field class="mat2FieldWidth" appearance="outline">
          <mat-label>Pin Code</mat-label>
          <input matInput type='tel' pattern="^[0-9]{3,45}$" maxlength="6" formControlName='pincode'
            placeholder="Placeholder">
        </mat-form-field>
      </mat-expansion-panel>


      <mat-expansion-panel class="textAlign">
        <mat-expansion-panel-header class="expansionPanel">
          <mat-panel-title>
            <span class="panelHeader">Service Details</span>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <button ion-button (click)="addItem()" class="addBtn"><i class="fa fa-plus"
            aria-hidden="true"></i></button><br><br>
        <div style="background-color: white;" formArrayName="services"
          *ngFor="let a of labsignup.get('services')['controls']; let i = index">
          <mat-card class="matCard">
            <button class="cancelBtn" ion-button (click)="removeItem(i)">X</button>
            <div [formGroupName]="i" style="margin-bottom: 10px;">
              <mat-form-field class="serviceAndPriceField" appearance="outline">
                <mat-label>Services</mat-label>
                <mat-select formControlName="service">
                  <mat-option *ngFor="let data of serviceList" value="{{data.name}}">{{data.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field>&nbsp;
              <mat-form-field  class="serviceAndPriceField" appearance="outline">
                <mat-label>Price</mat-label>
                <input matInput type='tel' pattern="^[0-9]{2,45}$" placeholder="Enter Price" formControlName="price">
              </mat-form-field>
            </div>
          </mat-card>
        </div>  
      </mat-expansion-panel>
    </mat-accordion><br><br>
    <div class="textAlign" padding>
            <button mat-raised-button color="primary" type="submit" size="medium" expand="block" [disabled]="!labsignup.valid">Submit</button>&nbsp;&nbsp;
            <button mat-raised-button color="primary" type="reset" size="medium" expand="block" (click)="reset()">Reset</button> 
    </div>
  </form>
  <br><br>
</div>
